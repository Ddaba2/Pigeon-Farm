{
  "name": "Edge Compatibility Test Configuration",
  "version": "1.0.0",
  "description": "Configuration pour les tests de compatibilité Microsoft Edge",
  "servers": {
    "frontend": {
      "url": "http://localhost:5174",
      "port": 5174,
      "timeout": 5000
    },
    "backend": {
      "url": "http://localhost:3002",
      "port": 3002,
      "timeout": 5000
    }
  },
  "tests": {
    "connectivity": {
      "enabled": true,
      "description": "Test de connectivité des serveurs"
    },
    "cors": {
      "enabled": true,
      "description": "Test de configuration CORS"
    },
    "security": {
      "enabled": true,
      "description": "Test des headers de sécurité"
    },
    "auth": {
      "enabled": true,
      "description": "Test de l'API d'authentification"
    },
    "preflight": {
      "enabled": true,
      "description": "Test des requêtes OPTIONS preflight"
    }
  },
  "edgeVersions": {
    "legacy": {
      "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/70.0.3538.102 Safari/537.36 Edge/18.19041",
      "description": "Edge Legacy (EdgeHTML)"
    },
    "chromium": {
      "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36 Edg/91.0.864.59",
      "description": "Edge Chromium"
    },
    "enterprise": {
      "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36 Edg/91.0.864.59",
      "description": "Edge Enterprise avec politiques de groupe"
    }
  },
  "polyfills": {
    "fetch": {
      "enabled": true,
      "fallback": "XMLHttpRequest"
    },
    "promise": {
      "enabled": true,
      "fallback": "Custom implementation"
    },
    "localStorage": {
      "enabled": true,
      "fallback": "Memory storage"
    },
    "sessionStorage": {
      "enabled": true,
      "fallback": "Memory storage"
    },
    "objectAssign": {
      "enabled": true,
      "fallback": "Custom implementation"
    },
    "arrayFrom": {
      "enabled": true,
      "fallback": "Custom implementation"
    },
    "arrayIncludes": {
      "enabled": true,
      "fallback": "Custom implementation"
    },
    "stringIncludes": {
      "enabled": true,
      "fallback": "Custom implementation"
    }
  },
  "cookies": {
    "sameSite": {
      "enabled": true,
      "fallback": "Without SameSite attribute"
    },
    "secure": {
      "enabled": true,
      "fallback": "Without Secure attribute"
    }
  },
  "headers": {
    "compatibility": [
      "X-UA-Compatible: IE=edge"
    ],
    "security": [
      "X-Content-Type-Options: nosniff",
      "X-Frame-Options: SAMEORIGIN",
      "X-XSS-Protection: 1; mode=block"
    ],
    "caching": [
      "Cache-Control: no-cache, no-store, must-revalidate",
      "Pragma: no-cache",
      "Expires: 0"
    ]
  },
  "cors": {
    "origins": [
      "http://localhost:5173",
      "http://localhost:5174",
      "http://127.0.0.1:5173",
      "http://127.0.0.1:5174",
      "http://localhost:*",
      "http://127.0.0.1:*"
    ],
    "methods": [
      "GET",
      "POST",
      "PUT",
      "DELETE",
      "OPTIONS",
      "PATCH"
    ],
    "headers": [
      "Content-Type",
      "Authorization",
      "X-Requested-With",
      "x-session-id",
      "Accept",
      "Origin",
      "Access-Control-Request-Method",
      "Access-Control-Request-Headers",
      "Cache-Control",
      "Pragma"
    ],
    "credentials": true,
    "optionsSuccessStatus": 200
  },
  "diagnostic": {
    "endpoints": [
      "/edge-diagnostic",
      "/api/health",
      "/api/test"
    ],
    "tests": [
      "Browser detection",
      "JavaScript APIs",
      "Storage APIs",
      "Web APIs",
      "Cookies and security",
      "API connectivity",
      "Performance"
    ]
  },
  "troubleshooting": {
    "commonIssues": [
      {
        "issue": "Données non chargées",
        "symptoms": "Interface vide, pas de données",
        "solutions": [
          "Vérifier la console développeur Edge",
          "Lancer le diagnostic /edge-diagnostic",
          "Vérifier les polyfills dans src/utils/polyfills.ts"
        ]
      },
      {
        "issue": "Erreurs de cookies",
        "symptoms": "Sessions non persistantes",
        "solutions": [
          "Vérifier les politiques Edge Enterprise",
          "Tester les fallbacks dans src/utils/cookies.ts",
          "Vérifier la configuration CORS"
        ]
      },
      {
        "issue": "Erreurs CORS",
        "symptoms": "Requêtes bloquées",
        "solutions": [
          "Vérifier la configuration CORS dans backend/index.js",
          "Tester les headers dans vite.config.ts",
          "Vérifier les politiques Edge Enterprise"
        ]
      },
      {
        "issue": "APIs non supportées",
        "symptoms": "Erreurs JavaScript",
        "solutions": [
          "Vérifier les polyfills dans src/utils/polyfills.ts",
          "Tester les fallbacks dans src/utils/api.ts",
          "Lancer le diagnostic Edge"
        ]
      }
    ]
  }
}
